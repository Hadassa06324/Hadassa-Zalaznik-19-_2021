(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{114:function(e,t,c){},143:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(22),r=c.n(i),s=(c(54),c(114),c(35)),o=c(74),l=c(92),j=Object(l.a)((function(e,t){switch(t.type){case"SET_SELECTED_LOCATION":if(e.selectedLocation=t.payload,e.favoriteLocation.length>0)e.favoriteLocation.find((function(e){return e.Key===t.payload.Key}))&&(e.selectedLocation.IsFavorite=!0);break;case"ADD_FAVORITE_LOCATION":e.selectedLocation.IsFavorite=!0,e.favoriteLocation.push(t.payload);break;case"VIEW_FAVORITE":e.selectedLocation=t.payload;break;case"DELETE_FAVORITE_LOCATION":e.favoriteLocation.splice(t.payload,1)}}),{selectedLocation:{Version:1,Key:"215854",LocalizedName:"Tel Aviv",Country:"Israel",IsFavorite:!1},favoriteLocation:[]}),u=Object(o.a)({locationReducer:j}),b=Object(o.b)(u);window.store=b;var d=b,O=c(8),h=c(168),f=c(171),x=c(172),m=c(103),p=c.n(m),v=c(102),y=c.n(v),g=c(165),L=c(14),T=(c(78),c(79),c(80),c(81),c(95)),C=c(1),I=function(e){return Object(C.jsx)("div",{children:Object(C.jsx)(T.a,{style:{width:"15rem",marginBottom:"2em"},children:Object(C.jsx)("div",{className:"p-m-0",style:{lineHeight:"1.5"},children:e.children})})})},E=c(63),F=c.n(E);function N(e){var t="https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=TgJbkMm6YYYGY6dM4J7lAamAcuBwndIC&q=".concat(e,"&language=en-us");return F.a.get(t).then((function(e){return e.data})).catch((function(e){alert(e)}))}var A=c(59),w=c.n(A),k=c(70),S=c.n(k);function D(e){var t=5*(e-32)/9;return S.a.round(t)}function K(e){var t=e.locationKey,c=Object(n.useState)([]),a=Object(O.a)(c,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){(function(e){var t="https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=TgJbkMm6YYYGY6dM4J7lAamAcuBwndIC&language=en-us&details=false&metric=false");return F.a.get(t).then((function(e){return e.data}))})(t).then((function(e){r(e.DailyForecasts)}))}),[]),Object(C.jsx)(C.Fragment,{children:i.map((function(e,t){return Object(C.jsx)("div",{style:{display:"inline-block"},children:Object(C.jsxs)(I,{children:[q(e.Night.Icon),q(e.Day.Icon),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{children:["".concat(D(e.Temperature.Minimum.Value),"\xb0C")," - ","".concat(D(e.Temperature.Maximum.Value),"\xb0C")]}),Object(C.jsx)("label",{children:e.Day.HasPrecipitation&&"Has Precipitation"}),Object(C.jsx)("br",{}),Object(C.jsx)("label",{children:w()(e.Date).format("dddd")}),Object(C.jsx)("br",{})]})},t)}))})}var M=c(104),V=c(43),R=c(174),_=c(98),z=c.n(_),Y=function(e){var t=e.setSelector,c=Object(n.useRef)(null),a=Object(n.useState)([]),i=Object(O.a)(a,2),r=i[0],s=i[1],o=Object(n.useState)(null),l=Object(O.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(null),d=Object(O.a)(b,2),h=d[0],f=d[1];return Object(n.useEffect)((function(){N(j).then((function(e){s(e)}))}),[j]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(V.a,{ref:c}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-4",children:[Object(C.jsxs)("span",{className:"p-float-label p-input-icon-left",children:[Object(C.jsx)("i",{className:"pi pi-search"}),Object(C.jsx)(M.a,{onKeyPress:function(e){!function(e){var t=e.target.value.split(""),n=t.pop();!(!/[A-Za-z]/.test(n)&&" "!=n)||(e.target.value=t.join(""),c.current.show({severity:"error",summary:"Error Message",detail:"Please enter only English",life:3e3}),e.preventDefault())}(e)},value:j,suggestions:h,completeMethod:function(e){setTimeout((function(){f(r)}),250)},field:"LocalizedName",onChange:function(e){return u(e.value)}}),Object(C.jsx)("label",{htmlFor:"lefticon",children:"City name"})]}),Object(C.jsx)(R.a,{color:"primary","aria-label":"add to shopping cart",onClick:function(e){t(j.LocalizedName)},children:Object(C.jsx)(z.a,{})})]})]})},B=c(99),J=c.n(B),W=c(166),P=c(167),G=c(173);var H=Object(s.b)((function(e){return{locations:e.locationReducer}}))((function(e){var t=e.dispatch,c=e.locations,a=Object(n.useState)(c.selectedLocation.LocalizedName),i=Object(O.a)(a,2),r=i[0],s=i[1],o=Object(n.useRef)(null),l={Version:1,Key:"215854",LocalizedName:"Tel Aviv",Country:"Israel"};return Object(n.useEffect)((function(){N(r).then((function(e){r&&(l.Version=e[0].Version,l.Key=e[0].Key,l.LocalizedName=e[0].LocalizedName,l.Country=e[0].Country.LocalizedName,l.IsFavorite=!1,t(function(e){return{type:"SET_SELECTED_LOCATION",payload:e}}(l)))})).catch((function(){o.current.show({severity:"warn",summary:"Warn Message",detail:"Location Not Found",life:3e3})}))}),[r]),Object(C.jsxs)(g.a,{children:[Object(C.jsx)(V.a,{ref:o}),Object(C.jsxs)(W.a,{children:[Object(C.jsx)(P.a,{children:Object(C.jsx)(Y,{setSelector:s})}),Object(C.jsx)(P.a,{children:c.selectedLocation.IsFavorite?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("label",{children:"the location is favorite "}),Object(C.jsx)(J.a,{})]}):Object(C.jsx)(G.a,{onClick:function(){t(function(e){return{type:"ADD_FAVORITE_LOCATION",payload:e}}(c.selectedLocation)),o.current.show({severity:"success",summary:"Success Message",detail:"Saved to Favorites",life:3e3})},color:"primary",children:"Save to Favorites"})})]})]})}));function q(e){return e<10&&(e="0".concat(e)),Object(C.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(e,"-s.png")})}var Z=Object(s.b)((function(e){return{locations:e.locationReducer}}))((function(e){var t=e.locations.selectedLocation;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsxs)(g.a,{children:[Object(C.jsxs)(W.a,{children:[Object(C.jsx)(P.a,{children:Object(C.jsx)(H,{})}),Object(C.jsx)(P.a,{children:Object(C.jsx)(Q,{locationKey:t.Key,localizedName:t.LocalizedName})})]}),Object(C.jsx)(W.a,{children:Object(C.jsx)(K,{locationKey:t.Key})})]})]})})),Q=function(e){var t=e.locationKey,c=e.localizedName,a=Object(n.useState)(),i=Object(O.a)(a,2),r=i[0],s=i[1];return Object(n.useEffect)((function(){(function(e){var t="https://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=TgJbkMm6YYYGY6dM4J7lAamAcuBwndIC&language=en-us&details=false");return F.a.get(t).then((function(e){return e.data}))})(t).then((function(e){s(e[0])}))}),[]),Object(C.jsx)(C.Fragment,{children:r&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:c}),q(r.WeatherIcon),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{children:[" ",r.WeatherText," "]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{children:[" ",w()(r.LocalObservationDateTime).format("LLLL")," "]}),Object(C.jsx)("br",{}),Object(C.jsxs)("h1",{children:[" ","".concat(r.Temperature.Metric.Value,"\xb0C")," "]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})})},U=c(100),X=c.n(U),$=c(101),ee=c.n($);var te=Object(s.b)((function(e){return{locations:e.locationReducer}}))((function(e){var t=e.dispatch,c=e.locations,a=Object(L.f)(),i=Object(n.useRef)(null);return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(g.a,{children:[Object(C.jsx)(V.a,{ref:i}),c.favoriteLocation.map((function(e,c){return Object(C.jsx)("div",{style:{display:"inline-block"},children:Object(C.jsxs)(I,{index:c,children:[Object(C.jsx)("h1",{children:e.LocalizedName}),Object(C.jsx)(Q,{locationKey:e.Key}),Object(C.jsxs)("span",{children:[Object(C.jsxs)(G.a,{onClick:function(){return function(e){return t({type:"VIEW_FAVORITE",payload:e}),a.push("/getWeatherByLocation")}(e)},children:[" ",Object(C.jsx)(X.a,{sx:{mr:1}}),"To weather"]}),Object(C.jsxs)(G.a,{onClick:function(){return function(e){t({type:"DELETE_FAVORITE_LOCATION",payload:e}),i.current.show({severity:"info",summary:"Info Message",detail:"Location deleted",life:3e3})}(c)},children:[Object(C.jsx)(ee.a,{sx:{mr:1}}),"Remove"]})]})]})},c)}))]})})})),ce=Object(h.a)({root:{width:500}}),ne=Object(L.g)((function(e){var t=ce(),c=a.a.useState(0),n=Object(O.a)(c,2),i=n[0],r=n[1],s=e.history;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(g.a,{children:[Object(C.jsx)("br",{}),Object(C.jsxs)(f.a,{value:i,onChange:function(e,t){r(t)},showLabels:!0,className:t.root,children:[Object(C.jsx)(x.a,{onClick:function(){s.push("/")},label:"Weather",icon:Object(C.jsx)(y.a,{})}),Object(C.jsx)(x.a,{onClick:function(){s.push("/favorites")},label:"Favorites",icon:Object(C.jsx)(p.a,{})})]})]}),Object(C.jsxs)(L.c,{children:[Object(C.jsx)(L.a,{path:"/favorites",children:Object(C.jsx)(te,{})}),Object(C.jsx)(L.a,{path:"/getWeatherByLocation",children:Object(C.jsx)(Z,{})}),Object(C.jsx)(L.a,{path:"/",children:Object(C.jsx)(Z,{})})]})]})})),ae=c(56);var ie=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(s.a,{store:d,children:Object(C.jsx)(ae.a,{children:Object(C.jsx)(ne,{})})})})},re=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,175)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(ie,{})}),document.getElementById("root")),re()},54:function(e,t,c){}},[[143,1,2]]]);
//# sourceMappingURL=main.308a2b08.chunk.js.map